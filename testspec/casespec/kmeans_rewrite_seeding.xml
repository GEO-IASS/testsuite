<?xml version='1.0' encoding='UTF-8'?>
<test_suites>
    <test_type>feature</test_type>
    <multi_test_suites>

        <algorithm>kmeans_rewrite</algorithm>
        <methods>
            <method>
                <name>km_pp_seeding_default</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>          
                </parameter>            
            </method>
            <method>
                <name>km_pp_seeding_default_fndist</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>          
                </parameter>            
            </method>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>          
                </parameter> 
            </method>
            <method>
                <name>km_random_seeding_default</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>          
                </parameter>            
            </method>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>          
                </parameter>            
            </method>
        </methods>
        
       <test_suite>
            <name>km_pp_seeding_default</name>
            <comments>Test kmeanspp_seeding with default fn_dist and initial_centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default</name>
                <list_parameter>
                    <name>rel_source</name>
                    <value>madlibtestdata.km_abalone</value>
                    <value>madlibtestdata.km_movement_libras</value>
                    <value>madlibtestdata.km_us_census_1990</value>
                    <value>madlibtestdata.km_water_treatment</value>
                    <value>madlibtestdata.km_wine</value>
                    <value>madlibtestdata.km_winequality_red</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_fndist</name>
            <comments>Test kmeanspp_seeding with different fn_dist functions including user-defined functions</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist</name>
                <list_parameter>
                    <name>fn_dist</name>
                    <value>madlib.dist_norm1</value>
                    <value>madlib.squared_dist_norm2</value>
                    <value>madlib.dist_angle</value>
                    <value>madlib.dist_tanimoto</value>
                    <value>madlibtestdata.dist_norm4</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_initialcentroids</name>
            <comments>Test kmeanspp_seeding with different initial centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>initial_centroids</name>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0], ARRAY[6,1,1,0,0,3,3,2,2,0,0,0,0,3,3,0,3,0,0,1,0,0,0,0,9,1,2,0,0,0,1,2,1,2,1,0,2,0,2,2,0,4,0,0,0,2,1,0,4,10,0,1,8,1,0,0,0,0,0,1,0,2,1,1,0,14,1,1], ARRAY[4,9,1,0,4,1,4,2,2,1,0,3,0,1,1,3,1,0,0,0,0,0,0,0,8,0,1,0,0,0,1,4,2,2,2,0,2,3,2,1,2,2,1,0,0,1,1,0,2,52,0,1,0,2,0,1,0,0,0,3,0,1,1,1,0,14,1,0]]</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                        <name>fn_dist</name>
                        <value>madlib.squared_dist_norm2</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_negative_relsource</name>
            <comments>Test kmeanspp_seeding with invalid rel_source</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>rel_source</name>
                    <value>non_existing_schema.km_us_census_1990</value>
                    <value>madlibtestdata.non_existing_table</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>fn_dist</name>
                        <value>madlib.squared_dist_norm2</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_negative_exprpoint</name>
            <comments>Test kmeanspp_seeding with invalid expr_point</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>expr_point</name>
                    <value>non_existing_column</value>
                    <value>pid</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>fn_dist</name>
                        <value>madlib.squared_dist_norm2</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_negative_k</name>
            <comments>Test kmeanspp_seeding with invalid k</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>k</name>
                    <value>-1</value>
                    <value>0</value>
                    <value>2</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>fn_dist</name>
                        <value>madlib.squared_dist_norm2</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0],ARRAY[6,1,1,0,0,3,3,2,2,0,0,0,0,3,3,0,3,0,0,1,0,0,0,0,9,1,2,0,0,0,1,2,1,2,1,0,2,0,2,2,0,4,0,0,0,2,1,0,4,10,0,1,8,1,0,0,0,0,0,1,0,2,1,1,0,14,1,1],ARRAY[4,9,1,0,4,1,4,2,2,1,0,3,0,1,1,3,1,0,0,0,0,0,0,0,8,0,1,0,0,0,1,4,2,2,2,0,2,3,2,1,2,2,1,0,0,1,1,0,2,52,0,1,0,2,0,1,0,0,0,3,0,1,1,1,0,14,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_negative_fndist</name>
            <comments>Test kmeanspp_seeding with invalid fn_dist</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>fn_dist</name>
                    <value>non_existing_schema.squared_dist_norm2</value>
                    <value>madlib.non_existing_squared_dist_func</value>
                    <value>madlibtestdata.squared_dist_invalid_signature_datatype</value>
                    <value>madlibtestdata.squared_dist_invalid_signature_numparam</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_pp_seeding_negative_initialcentroids</name>
            <comments>Test kmeanspp_seeding with invalid initial_centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_pp_seeding_default_fndist_initialcentroids</name>
                <list_parameter>
                    <name>initial_centroids</name>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3]]</value>
                    <value>ARRAY[ARRAY['a','b','c','d','e','f','g']]</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>fn_dist</name>
                        <value>madlib.squared_dist_norm2</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>            
            </method>        
        </test_suite>

       <test_suite>
            <name>km_random_seeding_default</name>
            <comments>Test kmeans_random_seeding with default initial_centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default</name>
                <list_parameter>
                    <name>rel_source</name>
                    <value>madlibtestdata.km_abalone</value>
                    <value>madlibtestdata.km_movement_libras</value>
                    <value>madlibtestdata.km_us_census_1990</value>
                    <value>madlibtestdata.km_water_treatment</value>
                    <value>madlibtestdata.km_wine</value>
                    <value>madlibtestdata.km_winequality_red</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_random_seeding_initialcentroids</name>
            <comments>Test kmeans_random_seeding with different initial_centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <list_parameter>
                    <name>initial_centroids</name>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0], ARRAY[6,1,1,0,0,3,3,2,2,0,0,0,0,3,3,0,3,0,0,1,0,0,0,0,9,1,2,0,0,0,1,2,1,2,1,0,2,0,2,2,0,4,0,0,0,2,1,0,4,10,0,1,8,1,0,0,0,0,0,1,0,2,1,1,0,14,1,1], ARRAY[4,9,1,0,4,1,4,2,2,1,0,3,0,1,1,3,1,0,0,0,0,0,0,0,8,0,1,0,0,0,1,4,2,2,2,0,2,3,2,1,2,2,1,0,0,1,1,0,2,52,0,1,0,2,0,1,0,0,0,3,0,1,1,1,0,14,1,0]]</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_random_seeding_negative_relsource</name>
            <comments>Test kmeans_random_seeding with invalid rel_source</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <list_parameter>
                    <name>rel_source</name>
                    <value>non_existing_schema.km_us_census_1990</value>
                    <value>madlibtestdata.non_existing_table</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_random_seeding_negative_exprpoint</name>
            <comments>Test kmeans_random_seeding with invalid expr_point</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <list_parameter>
                    <name>expr_point</name>
                    <value>non_existing_column</value>
                    <value>pid</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_random_seeding_negative_k</name>
            <comments>Test kmeans_random_seeding with invalid k</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <list_parameter>
                    <name>k</name>
                    <value>-1</value>
                    <value>0</value>
                    <value>2</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>initial_centroids</name>
                        <value>ARRAY[ARRAY[4,1,2,0,0,1,3,2,2,0,0,3,0,3,3,0,1,0,0,0,0,0,0,1,4,0,2,0,2,0,1,4,1,2,2,0,2,0,2,1,2,2,0,0,0,1,1,0,2,10,0,4,0,1,0,1,0,0,0,1,0,1,1,1,0,10,1,0],ARRAY[6,1,1,0,0,3,3,2,2,0,0,0,0,3,3,0,3,0,0,1,0,0,0,0,9,1,2,0,0,0,1,2,1,2,1,0,2,0,2,2,0,4,0,0,0,2,1,0,4,10,0,1,8,1,0,0,0,0,0,1,0,2,1,1,0,14,1,1],ARRAY[4,9,1,0,4,1,4,2,2,1,0,3,0,1,1,3,1,0,0,0,0,0,0,0,8,0,1,0,0,0,1,4,2,2,2,0,2,3,2,1,2,2,1,0,0,1,1,0,2,52,0,1,0,2,0,1,0,0,0,3,0,1,1,1,0,14,1,0]]</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

       <test_suite>
            <name>km_random_seeding_negative_initialcentroids</name>
            <comments>Test kmeans_random_seeding with invalid initial_centroids</comments>
                <!-- It indicate max execution times-->
                <execute_rate>1</execute_rate>
            <method>
                <name>km_random_seeding_default_initialcentroids</name>
                <list_parameter>
                    <name>initial_centroids</name>
                    <value>ARRAY[ARRAY[4,1,2,0,0,1,3]]</value>
                    <value>ARRAY[ARRAY['a','b','c','d','e','f','g']]</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>rel_source</name>
                        <value>madlibtestdata.km_us_census_1990</value>
                    </parameter>
                    <parameter>
                        <name>expr_point</name>
                        <value>position</value>
                    </parameter>
                    <parameter>
                        <name>k</name>
                        <value>6</value>
                    </parameter>
                </parameters>
                <tear_down>
                </tear_down>
            </method>
        </test_suite>

    </multi_test_suites>
</test_suites>
